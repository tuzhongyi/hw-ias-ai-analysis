<div class="system-module-road-section-details-manager">
  <div class="system-module-road-section-details-manager-body">
    <div class="system-module-road-section-details-manager-map panel">
      <ias-system-module-road-section-details-map
        [creating]="!data"
        [editing]="!!data"
        [datas]="data?.GeoLine ?? []"
        (create)="map.change($event)"
        (change)="map.change($event)"
      ></ias-system-module-road-section-details-map>
    </div>
    <div
      class="system-module-road-section-details-manager-info panel panel-flex"
    >
      <div class="panel-head">
        <div class="panel-title">路段信息</div>
      </div>
      <div class="panel-body">
        <ias-system-module-road-section-details-info
          [(data)]="model"
        ></ias-system-module-road-section-details-info>
      </div>
    </div>
    <div
      class="system-module-road-section-details-manager-segment panel panel-flex"
    >
      <div class="panel-head">
        <div class="panel-title">
          <label for="road_section_details_segment"
            >工作表<input
              type="checkbox"
              id="road_section_details_segment"
              [(ngModel)]="model.ScheduleEnabled"
              (change)="schedule.enable()"
            />
          </label>
        </div>
      </div>
      <div class="panel-body">
        <div class="mask" *ngIf="!model.ScheduleEnabled"></div>

        <ias-segment-week
          [(data)]="schedule.data"
          (dataChange)="schedule.change()"
        ></ias-segment-week>
      </div>
    </div>
  </div>
  <div class="system-module-road-section-details-manager-foot">
    <div class="button-group">
      <button class="button-clip-gradient" (click)="on.ok()">确定</button>
      <button class="button-clip-blue" (click)="on.cancel()">取消</button>
    </div>
  </div>
</div>
